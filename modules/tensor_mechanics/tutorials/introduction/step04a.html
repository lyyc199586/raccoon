<!DOCTYPE html><head><meta charset="UTF-8"><title>Step 4 a Volumetric locking | RACCOON</title><link rel="icon" type="image/x-icon" href="../../../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="../../../../index.html" class="left moose-logo hide-on-med-and-down">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../../../media/framework/github-logo.png" class="github-mark"></img><img src="../../../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="#!" class="dropdown-trigger" data-target="8cebcbe2-0a43-4b59-864f-fabeab9a3133" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="718cf223-9fcf-4bb7-9bb1-9743bb63b69a" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="0d3c095e-8d2a-4e62-9df0-214fb80925bd" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="53f1f7b9-92be-4fc8-a74f-797ddc508551" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="0d660c48-aee3-4f70-a085-cbe89b6fe1db"><i class="material-icons">menu</i></a><ul class="sidenav" id="0d660c48-aee3-4f70-a085-cbe89b6fe1db"><li><a href="#!" class="dropdown-trigger" data-target="c346ec51-d4d6-4f52-ab9d-451939fc847c" data-constrainWidth="false">Getting Started<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="b3a4c338-1c66-4fd1-8f14-582e70996738" data-constrainWidth="false">Tutorials<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="33df0e08-92dd-45da-8e9c-8969938fa5d9" data-constrainWidth="false">Theory<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="#!" class="dropdown-trigger" data-target="97c0c7b3-f79f-45f6-90e3-e3097a8c0762" data-constrainWidth="false">Documentation<i class="material-icons right">arrow_drop_down</i></a></li><li><a href="../../../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div><ul class="dropdown-content" id="8cebcbe2-0a43-4b59-864f-fabeab9a3133"><li><a href="../../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../../getting_started/ide.html">Code development</a></li></ul><ul class="dropdown-content" id="718cf223-9fcf-4bb7-9bb1-9743bb63b69a"><li><a href="../../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li></ul><ul class="dropdown-content" id="0d3c095e-8d2a-4e62-9df0-214fb80925bd"><li><a href="../../../../theory/intro.html">Introduction</a></li><li><a href="../../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="53f1f7b9-92be-4fc8-a74f-797ddc508551"><li><a href="../../../index.html">Physics modules</a></li><li><a href="../../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../../syntax/tensor_mechanics.html">Tensor mechanics syntax</a></li><li><a href="../../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../../syntax/heat_conduction.html">Heat conduction syntax</a></li></ul><ul class="dropdown-content" id="c346ec51-d4d6-4f52-ab9d-451939fc847c"><li><a href="../../../../getting_started/install.html">Install RACCOON</a></li><li><a href="../../../../getting_started/update.html">Update RACCOON</a></li><li><a href="../../../../getting_started/running.html">Running your first model</a></li><li><a href="../../../../getting_started/paraview.html">Visualization</a></li><li><a href="../../../../getting_started/ide.html">Code development</a></li></ul><ul class="dropdown-content" id="b3a4c338-1c66-4fd1-8f14-582e70996738"><li><a href="../../../../tutorials/01_small_deformation_elasticity.html">1. Small deformation</a></li><li><a href="../../../../tutorials/02_mode1_brittle_fracture.html">2. Mode-I fracture</a></li><li><a href="../../../../tutorials/03_mode2_brittle_fracture.html">3. Mode-II fracture</a></li><li><a href="../../../../tutorials/04_fiber_reinforced_matrix.html">4. Fiber-reinforced matrix</a></li><li><a href="../../../../tutorials/05_soil_desiccation.html">5. Soil desiccation</a></li><li><a href="../../../../tutorials/06_large_deformation_elasticity.html">6. Large deformation</a></li><li><a href="../../../../tutorials/07_elastoplasticity.html">7. Elastoplasticity</a></li><li><a href="../../../../tutorials/08_ductile_fracture.html">8. Ductile fracture</a></li><li><a href="../../../../tutorials/09_three_point_bending.html">9. Three-point bending</a></li><li><a href="../../../../tutorials/10_quenching_bibeam.html">10. Quenching of bi-beam</a></li><li><a href="../../../../tutorials/11_adaptivity.html">11. Adaptive mesh refinement</a></li><li><a href="../../../../tutorials/12_nucleation.html">12. Crack nucleation</a></li><li><a href="../../../../tutorials/13_traction_separation.html">13. Traction separation law</a></li></ul><ul class="dropdown-content" id="33df0e08-92dd-45da-8e9c-8969938fa5d9"><li><a href="../../../../theory/intro.html">Introduction</a></li><li><a href="../../../../theory/kinematics.html">State variables and kinematics</a></li><li><a href="../../../../theory/thermodynamics.html">Thermodynamics</a></li><li><a href="../../../../theory/minimization.html">The minimization problem</a></li><li><a href="../../../../theory/constitutive_models.html">Constitutive Models</a></li></ul><ul class="dropdown-content" id="97c0c7b3-f79f-45f6-90e3-e3097a8c0762"><li><a href="../../../index.html">Physics modules</a></li><li><a href="../../../../syntax/index.html">Complete syntax</a></li><li><a href="../../../../syntax/raccoon.html">RACCOON syntax</a></li><li><a href="../../../../syntax/tensor_mechanics.html">Tensor mechanics syntax</a></li><li><a href="../../../../syntax/phase_field.html">Phase field syntax</a></li><li><a href="../../../../syntax/heat_conduction.html">Heat conduction syntax</a></li></ul></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="/index.md" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="moose-content col s12 m12 l12"><section id="5cd801fe-1495-49c5-af30-7a3189d107d7" data-section-level="1" data-section-text="Step 4 a - Volumetric locking"><h1 id="step-4-a-volumetric-locking">Step 4a - Volumetric locking</h1><blockquote><p>Keep the postprocessing modifications from the previous question, set the <a href="#8b17935c-70ee-47cc-847b-5d63c460ba42" class="moose-modal-link modal-trigger">&quot;poissons_ratio&quot;</a> of the cantilevers to <code>0.49</code>. Then add and modify the following parameters</p><ul class="browser-default"><li><p><a href="#10b499bd-1e0b-4d0b-807a-97d76ddeb63f" class="moose-modal-link modal-trigger">&quot;uniform_refine&quot;</a> in the <code>[Mesh]</code> block </p></li><li><p><a href="#78829c21-009c-4c68-87b1-78cdaee29218" class="moose-modal-link modal-trigger">&quot;volumetric_locking_correction&quot;</a> in the tensor mechanics master action block </p></li><li><p><a href="#3c0cd1b2-ab4c-4be1-b6f0-61a8f1c0e3f1" class="moose-modal-link modal-trigger">&quot;elem_type&quot;</a> in the <code>GeneratedMeshGenerator</code> blocks</p></li></ul><p>For convenience all those parameters may be listed under <code>[GlobalParams]</code> instead. Compare first order QUAD4 elements to second order QUAD8 elements, compare the cantilever deflection with and without volumetric locking correction (with QUAD4 elements), and compare the result for different levels of uniform refinement (1, 2, 3, 4).</p></blockquote><pre class="moose-pre" style="max-height:350px;"><code class="language-text">#
# Multiple submesh setup with two cantilevers side by side
# https://mooseframework.inl.gov/modules/tensor_mechanics/tutorials/introduction/step04.html
#

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [generated1]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 15
    xmin = -0.6
    xmax = -0.1
    ymax = 5
    bias_y = 0.9
    boundary_name_prefix = pillar1
  []
  [generated2]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 15
    xmin = 0.1
    xmax = 0.6
    ymax = 5
    bias_y = 0.9
    boundary_name_prefix = pillar2
    boundary_id_offset = 4
  []
  [collect_meshes]
    type = MeshCollectionGenerator
    inputs = &#x27;generated1 generated2&#x27;
  []
[]

[Modules/TensorMechanics/Master]
  [all]
    add_variables = true
    # we anticipate large deformation
    strain = FINITE
  []
[]

[BCs]
  [bottom_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value = 0
  []
  [bottom_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value = 0
  []
  [Pressure]
    [sides]
      boundary = &#x27;pillar1_left pillar2_right&#x27;
      function = 1e4*t
    []
  []
[]

[Materials]
  [elasticity]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e9
    poissons_ratio = 0.3
  []
  # we anticipate large deformation
  [stress]
    type = ComputeFiniteStrainElasticStress
  []
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  line_search = none
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  end_time = 5
  dt = 0.5
  [Predictor]
    type = SimplePredictor
    scale = 1
  []
[]

[Outputs]
  exodus = true
[]
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#25976710-3d7a-4673-988d-4a6c377be996">(moose/modules/tensor_mechanics/tutorials/introduction/step04.i)</a><p>We can run the various combinations of first/second order elements, active/deactivated volumetric locking correction, and levels of refinement and plot the resulting data.</p><p>Note that you can override input file parameters from the command line! That means you can run all the cases plotted below using these commands:</p><pre class="moose-pre"><code class="language-text">
../../tensor_mechanics-opt -i step04a.i GlobalParams/elem_type=QUAD4
../../tensor_mechanics-opt -i step04a.i GlobalParams/elem_type=QUAD4 GlobalParams/volumetric_locking_correction=true
mpirun -n 4 ../../tensor_mechanics-opt -i step04a.i GlobalParams/elem_type=QUAD4 GlobalParams/volumetric_locking_correction=true GlobalParams/uniform_refine=1
mpirun -n 4 ../../tensor_mechanics-opt -i step04a.i GlobalParams/elem_type=QUAD8
mpirun -n 8 ../../tensor_mechanics-opt -i step04a.i GlobalParams/elem_type=QUAD4 GlobalParams/volumetric_locking_correction=true GlobalParams/uniform_refine=4
mpirun -n 8 ../../tensor_mechanics-opt -i step04a.i GlobalParams/elem_type=QUAD8 GlobalParams/uniform_refine=2
</code></pre><div id="22580408-65e2-471c-ace8-c763a691ba6a"></div><script>div = document.getElementById('22580408-65e2-471c-ace8-c763a691ba6a');
Plotly.plot(div, [{'x': [0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0], 'y': [0.0, 0.012297557746208, 0.024599992602543, 0.036907158654046, 0.049218909800504, 0.061535099761101, 0.073855582079212, 0.086180210127172, 0.098508837111067, 0.11084131607555, 0.12317749990864], 'name': 'QUAD4'}, {'x': [0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0], 'y': [0.0, 0.021384512916666, 0.042781782730663, 0.064191101648472, 0.085611760585222, 0.10704304922261, 0.12848425606777, 0.1499346685122, 0.17139357289095, 0.19286025454192, 0.21433399786539], 'name': 'QUAD4 + volumetric locking correction'}, {'x': [0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0], 'y': [0.0, 0.025980241948164, 0.051978049020957, 0.077992266340977, 0.10402173675443, 0.13006530093618, 0.15612179749739, 0.1821900630933, 0.2082689325313, 0.2343572388794, 0.26045381280635], 'name': 'QUAD4 + volumetric locking correction + 1x refined'}, {'x': [0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0], 'y': [0.0, 0.025589093864284, 0.05119563282622, 0.076818475850263, 0.10245647963567, 0.12810849870985, 0.15377338552523, 0.17944999055589, 0.20513716239479, 0.23083374711374, 0.25653859103719], 'name': 'QUAD8'}, {'x': [0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0], 'y': [0.0, 0.028423505022903, 0.056867312053567, 0.08532998978869, 0.1138101040149, 0.14230621773907, 0.17081689132304, 0.19934068261827, 0.22787614710086, 0.25642183704174, 0.28497630514449], 'name': 'QUAD4 + volumetric locking correction + 4x refined'}, {'x': [0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0, 3.5, 4.0, 4.5, 5.0], 'y': [0.0, 0.02803496726704, 0.056089857227362, 0.084163290305322, 0.1122538841367, 0.14036025368994, 0.16848101139175, 0.19661476725264, 0.22476012899275, 0.25291570216821, 0.28108009029795], 'name': 'QUAD8 + 2x refined'}], {'xaxis': {'title': 'Time'}, 'yaxis': {'title': 'Maximum x displacement'}, 'title': 'Cantilever deflection'});
</script><p>The point here is to make you aware that volumetric locking can occur in first order elements with certain material properties. It can be alleviated through</p><ul class="browser-default"><li><p>Refinement </p></li><li><p>Use of higher order elements (QUAD8) </p></li><li><p>Use of volumetric locking correction</p></li></ul><p>Users are encouraged to carefully check their results through convergence studies. </p></section><div class="moose-modal modal" id="8b17935c-70ee-47cc-847b-5d63c460ba42"><div class="modal-content"><h4>poissons_ratio</h4><p class="moose-parameter-description-default"><span>Default:</span>-1</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>double</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Poisson's ratio for the material.</p></div></div><div class="moose-modal modal" id="10b499bd-1e0b-4d0b-807a-97d76ddeb63f"><div class="modal-content"><h4>uniform_refine</h4><p class="moose-parameter-description-default"><span>Default:</span>0</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Specify the level of uniform refinement applied to the initial mesh</p></div></div><div class="moose-modal modal" id="78829c21-009c-4c68-87b1-78cdaee29218"><div class="modal-content"><h4>volumetric_locking_correction</h4><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Flag to correct volumetric locking</p></div></div><div class="moose-modal modal" id="3c0cd1b2-ab4c-4be1-b6f0-61a8f1c0e3f1"><div class="modal-content"><h4>elem_type</h4><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>EDGE, EDGE2, EDGE3, EDGE4, QUAD, QUAD4, QUAD8, QUAD9, TRI3, TRI6, HEX, HEX8, HEX20, HEX27, TET4, TET10, PRISM6, PRISM15, PRISM18, PYRAMID5, PYRAMID13, PYRAMID14</p><p class="moose-parameter-description"><span>Description:</span>The type of element from libMesh to generate (default: linear element for requested dimension)</p></div></div><div class="moose-modal modal" id="25976710-3d7a-4673-988d-4a6c377be996"><div class="modal-content"><h4>(moose/modules/tensor_mechanics/tutorials/introduction/step04.i)</h4><pre class="moose-pre"><code class="language-text">#
# Multiple submesh setup with two cantilevers side by side
# https://mooseframework.inl.gov/modules/tensor_mechanics/tutorials/introduction/step04.html
#

[GlobalParams]
  displacements = &#x27;disp_x disp_y&#x27;
[]

[Mesh]
  [generated1]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 5
    ny = 15
    xmin = -0.6
    xmax = -0.1
    ymax = 5
    bias_y = 0.9
    boundary_name_prefix = pillar1
  []
  [generated2]
    type = GeneratedMeshGenerator
    dim = 2
    nx = 4
    ny = 15
    xmin = 0.1
    xmax = 0.6
    ymax = 5
    bias_y = 0.9
    boundary_name_prefix = pillar2
    boundary_id_offset = 4
  []
  [collect_meshes]
    type = MeshCollectionGenerator
    inputs = &#x27;generated1 generated2&#x27;
  []
[]

[Modules/TensorMechanics/Master]
  [all]
    add_variables = true
    # we anticipate large deformation
    strain = FINITE
  []
[]

[BCs]
  [bottom_x]
    type = DirichletBC
    variable = disp_x
    boundary = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value = 0
  []
  [bottom_y]
    type = DirichletBC
    variable = disp_y
    boundary = &#x27;pillar1_bottom pillar2_bottom&#x27;
    value = 0
  []
  [Pressure]
    [sides]
      boundary = &#x27;pillar1_left pillar2_right&#x27;
      function = 1e4*t
    []
  []
[]

[Materials]
  [elasticity]
    type = ComputeIsotropicElasticityTensor
    youngs_modulus = 1e9
    poissons_ratio = 0.3
  []
  # we anticipate large deformation
  [stress]
    type = ComputeFiniteStrainElasticStress
  []
[]

[Executioner]
  type = Transient
  solve_type = NEWTON
  line_search = none
  petsc_options_iname = &#x27;-pc_type&#x27;
  petsc_options_value = &#x27;lu&#x27;
  end_time = 5
  dt = 0.5
  [Predictor]
    type = SimplePredictor
    scale = 1
  []
[]

[Outputs]
  exodus = true
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></div></div></div></main></div></body><script type="text/javascript" src="../../../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../../../js/init.js"></script><script type="text/javascript" src="../../../../js/navigation.js"></script><script type="text/javascript" src="../../../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../../../js/search_index.js"></script><script type="text/javascript" src="../../../../js/sqa_moose.js"></script>