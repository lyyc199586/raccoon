<!DOCTYPE html><head><meta charset="UTF-8"><title>MeshGenerator.md|RACCOON</title><link rel="icon" type="image/x-icon" href="../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script><script type="text/javascript" src="../../contrib/plotly/plotly.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://hugary1995.github.io/raccoon/index.html" class="left moose-logo hide-on-med-and-down">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="../../install/index.html">Install</a></li><li><a href="../../theory/index.html">Theory</a></li><li><a href="../../modules/index.html">Modules</a></li><li><a href="../../syntax/index.html">Syntax</a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="72148ecd-b7e6-4ed5-abbf-2ec8a881b03c"><i class="material-icons">menu</i></a><ul class="sidenav" id="72148ecd-b7e6-4ed5-abbf-2ec8a881b03c"><li><a href="../../install/index.html">Install</a></li><li><a href="../../theory/index.html">Theory</a></li><li><a href="../../modules/index.html">Modules</a></li><li><a href="../../syntax/index.html">Syntax</a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="https://hugary1995.github.io/raccoon/index.html" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshgenerators</span><a href="#" class="breadcrumb">MeshGenerator</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="8e466455-d396-49e2-b444-e8b7a66022f9" data-section-level="1" data-section-text="MeshGenerator"><h1 id="meshgenerator">MeshGenerator</h1><p>This is the base class of all the <code>MeshGenerators</code> systems.</p><p>There are two types of MeshGenerators:</p><ul class="browser-default"><li><p>Those who create a mesh (such as <code>AnnularMeshGenerator</code>, <code>FileMeshGenerator</code>,...). They are usually similar to the <code>Mesh</code> objects. </p></li><li><p>Those who modify an existing mesh (such as <code>MeshExtruderGenerator</code>, <code>StitchedMeshGenerator</code>,...).</p></li></ul><p>The point of these objects is to create complex meshes using only one input file. Indeed, you can use several MeshGenerator blocks in your input file. Those represent the different steps necessary to create your complex mesh.</p><p>Objects that create a mesh (such as <code>FileMeshGenerator</code>, <code>GeneratedMeshGenerator</code>, etc.) should build their libMesh mesh base objects through <code>MooseMesh</code> APIs. This will guarantee that non-local elements will be handled properly when <code>prepare_for_use</code> is called. This is because during <code>Action</code> execution during simulation setup, MOOSE objects such as periodic boundary conditions or a displaced problem will signal the <code>MooseMesh</code> if they need to delay remote/non-local element removal or if they need certain remote/non-local elements preserved using the <a href="../relationshipmanagers/RelationshipManager.html"><code>RelationshipManager</code></a> system. This information needs to be communicated to any <code>MeshGenerators</code> that are building new meshes in order for the simulation to run correctly.</p><p>There are two <code>MooseMesh</code> APIs that should be used by <code>MeshGenerators</code>. <code>MooseMesh::buildMeshBaseObject</code> should be called to construct the mesh that will be returned by the derived class implementation of <code>MeshGenerator::generate</code>. This is a <code>std::unique_ptr</code>. If you want to guarantee that the derived class type of the <code>std::unique_ptr&lt;MeshBase&gt;</code> returned by <code>_mesh-&gt;buildMeshBaseObject()</code> is a certain type, then <code>_mesh-&gt;buildMeshBaseObject()</code> should be preceded by a call to <code>_mesh-&gt;setParallelType(Moose::ParallelType::REPLICATED)</code> or <code>_mesh-&gt;setParallelType(Moose::ParallelType::DISTRIBUTED)</code>.</p><p>The second API, <code>MooseMesh::buildTypedMesh</code>, should be used for constructing auxiliary meshes whose data may be used in the <code>MeshBase</code> object that is returned by <code>DerivedMeshGenerator::generate</code>. An example is stitching meshes. <code>MooseMesh::buildTypedMesh</code> takes a single template argument that is the type of derived <code>MeshBase</code> object that you want to build. So if you want a <code>ReplicatedMesh</code>, you would create a <code>ReplicatedMesh</code> instance by calling <code>_mesh-&gt;buildTypedMesh&lt;ReplicatedMesh&gt;(dim)</code> where <code>dim</code> is the desired dimensio of the mesh. If <code>dim</code> is not provided, then <code>buildTypedMesh</code> will use the value of <code>dim</code> from the <code>MooseMesh</code> <code>InputParameters</code> object. Note the difference in return type between <code>MooseMesh::buildMeshBaseObject</code> and <code>MooseMesh::buildTypedMesh</code>. The former will return <code>std::unique_ptr&lt;MeshBase</code> and the latter will return <code>T</code> where <code>T</code> is the value of the template argument provided to the <code>MooseMesh::buildTypedMesh</code> method.</p><section class="scrollspy" id="0b65116b-2463-4e7e-ae56-331b085c7749" data-section-level="2" data-section-text="Input File Example"><h2 id="input-file-example">Input File Example</h2><p>For instance, take a look at the following input file:</p><pre class="moose-pre"><code class="language-text">
[Mesh]
  [./gmg]
    type = GeneratedMeshGenerator
    dim = 3
    nx = 3
    ny = 3
    nz = 3
  []

  [./tmg]
    type = TiledMeshGenerator
    input = gmg
    x_width = 1
    y_width = 1
    z_width = 1

    left_boundary = left
    right_boundary = right
    top_boundary = top
    bottom_boundary = bottom
    front_boundary = front
    back_boundary = back

    x_tiles = 2
    y_tiles = 1
    z_tiles = 5
  []
[]

[Mesh]
  type = MeshGeneratorMesh
[]

[Outputs]
  exodus = true
[]
</code></pre><p>Structurally, notice that one can have several <code>MeshGenerator</code> blocks, but only one <code>Mesh</code> block of type <code>MeshGeneratorMesh</code>.</p><p>Let&#x27;s analyze the different steps. First, we use a <code>GeneratedMeshGenerator</code> to create a 3D mesh labeled <code>gmg</code> (here it&#x27;s simply a regular cube). After that, we use this mesh as an input (via <code>input = gmg</code>) to create a larger mesh using a <code>TiledMeshGenerator</code>. </p></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#0b65116b-2463-4e7e-ae56-331b085c7749" class="tooltipped" data-position="left" data-tooltip="Input File Example">Input File Example</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>